<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storytelling - Water Efficiency</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lien unique vers le CSS unifi√© -->
    <link rel="stylesheet" href="style/styles.css">
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    
    <!-- NAVIGATION LAT√âRALE -->
    <nav class="side-nav">
        <div class="side-nav-header">Sections</div>
        <ul class="side-nav-list">
            <li><a href="#intro" class="side-nav-link">Introduction</a></li>
            <li><a href="#climate-context" class="side-nav-link">Climate Context</a></li>
            <li><a href="#energy-volume-chapter" class="side-nav-link">Energy consumption</a></li>
            <li><a href="#energy-mix-chapter" class="side-nav-link">Energy mix</a></li>
            <li><a href="#water-consumption-intro" class="side-nav-link">Water consumption</a></li>
            <li><a href="#water-volume-chapter" class="side-nav-link">Water volume</a></li>
            <li><a href="#water-projection-chapter" class="side-nav-link">Climate projection</a></li>
        </ul>
    </nav>

    <!-- TOOLTIP GLOBAL -->
    <div id="tooltip" class="tooltip" style="opacity: 0;"></div>

    <!-- HEADER PRINCIPAL -->
    <header class="main-header">
        <div class="header-bar">
            <div class="header-title"> 
                <h1>The environmental impact of African Data Centers</h1>
                <p class="subtitle mb-50">An environmental study by Edgar DEMEUDE, Guilhem DUPUY, Vincent JOULAIN, Anh Duy VU.</p>
            </div>
        </div>
    </header>

    <!-- INTRODUCTION -->
    <section class="chapter intro-container" id="intro">
        <div class="container"> 
            <div class="full-content">
                <h1 class="text-left">Our project : decoding AI's footprint through Data Centers consumption study in Africa</h1>
                    
                <p class="my-medium">
                    As Artificial Intelligence becomes ubiquitous, its environmental footprint is reaching a breaking point. 
                    While carbon emissions dominate the conversation, <strong>transparency remains a challenge</strong>, 
                    as real energy data is often locked behind corporate doors.
                </p>

                <p class="mb-20">
                    The objective of this page is to give you a proper idea of how much the digital technologies - including AI, 
                    but also streaming services, and many others - actually impact our planet. To quantify it, we will focus on their
                    common point : a heavy reliance on Data Centers, that multiply around the world at an alarming speed.
                </p>

                <p class="mb-20">
                    Using the 
                    <a href="https://huggingface.co/datasets/masterlion/WaterEfficientDatasetForAfricanCountries/blob/main/water_efficiency_dataset_card.md" 
                        target="_blank" 
                        class="highlight-link">
                        Water Efficiency Dataset
                    </a>
                    (Shumba et al., NeurIPS 2024), our study decodes the energy 
                    consumption of Data Centers across Africa a continent where digital infrastructure is skyrocketing.
                </p>
            </div>
        </div>
    </section>

    <!-- SECTION 1 : CLIMATE CONTEXT -->
    <section class="chapter climate" id="climate-context">
        <div class="container"> 
            <div class="full-content">
                <h1>1 - Climate Context</h1>

                <p class="my-medium"> 
                    <a href="https://arxiv.org/abs/2412.03716" 
                        target="_blank" 
                        class="highlight-link">
                        The study 
                    </a>
                    performed by the authors of the Dataset (N. Shumba, O. Tshekiso, P. Li, G. Fanti, S. Ren) has proven that
                    there are many correlations between climate and energy and water consumptions.
                </p>

                <p class="mb-30">
                    Before analyzing the energy impact, it is therefore essential to understand the climatic constraints 
                    to which infrastructures are subjected (temperature, humidity, water scarcity). 
                    As you might realize while exploring the data, Africa's geography is defined by its vast diversity of climates, 
                    many of which are extreme.
                </p>

                <div class="control-group dashboard-card"> 
                    <label for="climate-select">Visualize data: </label>
                    <select id="climate-select">
                        <option value="temperature">Temperature (¬∞C)</option>
                        <option value="humidity">Humidity (%)</option>
                        <option value="precipitation">Precipitation (mm)</option>
                        <option value="wind_speed">Wind Speed (km/h)</option>
                        <option value="wetbulb_temperature">Wet-bulb Temperature (¬∞C)</option>
                    </select>
                </div>
            </div>
            <div class="full-viz">
                <div id="climate-map-holder"></div>
            </div>
        </div>
    </section>

    <script src="visualizations/map_climate/map_climate.js"></script>

    <!-- SECTION 2 : TOTAL ENERGY -->
    <section class="chapter full-view" id="energy-volume-chapter">
        <div class="container">
            <div class="full-content">
                <h1>2 - Energy Consumption of Data Centers</h1>
                
                <h2 class="mt-20">Total energy consumption of data‚Äëcenter host countries</h2>
                <p class="mt-20">
                    This chart shows the <strong>top 10 countries</strong> by total energy consumption (TWh) in 2023.
                    It complements the previous view by focusing only on energy, without converting it into water volume.
                </p>
            </div>
            <div class="full-viz">
                <div id="energy-volume-bar-holder"></div>
            </div>
        </div>
    </section>

    <script src="visualizations/total_water_volume/chart_energy_volume.js"></script>

    <!-- SECTION 3 : ENERGY MIX -->
    <section class="chapter" id="energy-mix-chapter">
        <div class="container">
            <div class="full-content">
                <h1>3 - Energy mix by country</h1>
                <p>
                    Each bar shows the percentage share of coal, oil, gas and low‚Äëcarbon sources in the energy mix
                </p>
            </div>

            <div id="controls" class="mt-20">
                <div class="control-row" style="display: flex; gap: 20px; flex-wrap: wrap;">
                    <div class="control-group">
                        <label for="yearSelectBar">Year</label>
                        <select id="yearSelectBar"></select>
                    </div>

                    <div class="control-group">
                        <label for="regionSelectBar">Climate region</label>
                        <select id="regionSelectBar">
                            <option value="all">All regions</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="sortMetric">Sort by</label>
                        <select id="sortMetric">
                            <option value="total">Total energy (TWh)</option>
                            <option value="coal">Coal share (%)</option>
                            <option value="oil">Oil share (%)</option>
                            <option value="gas">Gas share (%)</option>
                            <option value="lowCarbon">Low‚Äëcarbon share (%)</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="displayMode">Display</label>
                        <select id="displayMode">
                            <option value="all">All countries</option>
                            <option value="top5">Top 5 (by selected metric)</option>
                            <option value="top10" selected>Top 10 (by selected metric)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="stats"></div>

            <div id="chart-container">
                <div id="chart-bar-scroll">
                    <div id="chart-bar"></div>
                </div>
            </div>

            <div class="info-box mt-20" style="background: var(--color-bg-tertiary); padding: 15px; border-radius: 8px; font-size: 0.9em;">
                <strong>üí° Tip:</strong>
                All bars have the same height (100% of the energy mix).
                Use <strong>Climate region</strong> to filter the countries,
                <strong>Sort by</strong> to order by a specific share, and
                <strong>Display</strong> to focus on Top 5 or Top 10.
                Hover a bar to see both percentages and absolute TWh.
            </div>
        </div>
    </section>

    <script src="visualizations/energy_mix/energy_mix.js"></script>

    <!-- SECTION 4 : SEASONALITY (SPLIT VIEW) -->
    <section class="chapter climate" id="water-consumption-intro">
        <div class="container">
            <div class="full-content">
                <h1>4 - Water Consumption of Data Centers</h1>
                <p>
                    Water usage in Data Centers is multifaceted: for <strong>cooling</strong> systems,
                    <strong>everyday usage</strong> for restrooms, landscaping, staff needs, and especially the
                    <strong>energy production</strong> required for their operation.
                    Often forgotten, it is yet a primary component of their environmental impact.
                </p>

                <p class="my-medium"> 
                    While infrastructure needs are constant, the environment is not.
                    In Africa, where climate extremes are the norm, these factors combine to create a high-stakes water trade-off. 
                    To help understand its true impact, we must look beyond annual totals and examine how the environment dictates
                    the 'thirst' of a Data Center month by month.
                </p>
            </div>
        </div>
    </section>

    <section class="chapter split-view" id="seasonality-chapter">
        <div class="container"> 
            <div class="content-side">
                <div class="sticky-text">
                    <h2>Understanding Seasonality</h2>
                    <h3>How climate affects water efficiency</h3>
                    <p>
                        The efficiency of water used directly for cooling (WUE "Cold Water") 
                        is not constant. It varies according to local climatic conditions. 
                        By observing monthly averages, clear trends emerge:
                    </p>
                    <ul class="key-points mb-20" style="padding-left: 20px; margin-top: 10px;">
                        <li><strong>Summer Peaks:</strong> An increase in cooling WUE during hot and humid seasons.</li>
                        <li><strong>Winter Stability:</strong> Cold periods show optimal efficiency (lower values).</li>
                    </ul>
                    <p class="instruction" style="font-weight: bold; color: var(--color-accent);">
                        Use the <strong>Play</strong> button to observe the thermal "breath" of infrastructures across Africa.
                    </p>
                </div>
            </div>

            <div class="viz-side">
                <div id="toolbar" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                    <button id="play-button">Play</button>
                    <div class="slider-wrapper">
                        <input type="range" id="time-slider" min="1" max="12" value="1" step="1">
                        <span id="time-label" style="margin-left: 10px;">January</span>
                    </div>
                </div>
                <div id="map-holder"></div>
            </div>
        </div> 
    </section>

    <script src="visualizations/map_seasonal_impact/map_seasonal_impact_cooling_efficiency.js"></script>

    <!-- SECTION 5 : WATER VOLUME -->
    <section class="chapter full-view" id="water-volume-chapter">
        <div class="container">
            <div class="full-content">
                <h1>5 - Associated water consumption (estimated)</h1>
                <p class="my-medium">
                    By aggregating efficiency (WUE) and total energy consumption,
                    we are able to estimate the annual volume of water used.
                    The following graph displays the total amount of water consumed by
                    the top 10 consumming countries, related to their Data Center activities only.
                </p>

                <p class="mb-20">
                    To put these figures into perspective, 1000 swimming pools of water represent 
                    the annual water consumption of a European town of 45,000 inhabitants for domestic use.
                </p>
            </div>
            <div class="full-viz">
                <div id="water-volume-bar-holder"></div>
            </div>
        </div>
    </section>

    <script src="visualizations/total_water_volume/chart_water_volume.js"></script>

    <!-- SECTION 6 : CLIMATE PROJECTION -->
    <section class="chapter" id="water-projection-chapter">
        <div class="container">
            <header>
                <div class="header-bar">
                    <div class="header-title">
                        <h1>6 - Climate / Water Efficiency Projection</h1>
                        <p class="subtitle">
                            Side-by-side comparison of current vs. projected water usage effectiveness
                            under temperature increase scenarios for African data centers
                        </p>
                    </div>
                </div>
            </header>

            <div class="tabs-navigation">
                <button class="tab-button active" data-tab="predictive">Climate Impact Projection</button>
                <button class="tab-button" data-tab="waterfall">Water Savings Potential</button>
            </div>

            <!-- TAB 1 CONTENT -->
            <div class="tab-content active" id="tab-predictive">
                <div class="controls-container">
                    <div class="control-panel">
                        <div class="control-header">
                            <h3>Climate Projection (Water Usage Efficiency increase)</h3>
                            <p class="control-description">
                                WUE measures liters of water consumed per kilowatt-hour of energy.
                                <strong>Lower values indicate better water efficiency.</strong>
                            </p>
                        </div>

                        <div class="slider-container" style="margin: 20px 0;">
                            <div class="slider-header">
                                <div class="slider-displays" style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                    <span id="total-wue-increase" class="wue-display">+0.0% (0.00 L/kWh)</span>
                                    <span id="temp-value" class="temp-display">+0.0¬∞C</span>
                                </div>
                            </div>

                            <input type="range" id="temp-slider" min="0" max="5" step="0.1" value="0" class="temperature-slider" style="width: 100%;">

                            <div class="slider-markers" style="display: flex; justify-content: space-between; font-size: 0.8em; margin-top: 5px; color: var(--color-text-secondary);">
                                <span>0¬∞C</span>
                                <span>+1¬∞C</span>
                                <span>+2¬∞C</span>
                                <span>+3¬∞C</span>
                                <span>+4¬∞C</span>
                                <span>+5¬∞C</span>
                            </div>
                        </div>
                        <div class="legend-note" style="font-size: 0.85em; color: var(--color-text-muted);">
                            <span class="note-icon">‚ÑπÔ∏è</span>
                            <span>Model: Each +1¬∞C increases WUE by 4% (compound growth)</span>
                        </div>
                    </div>
                </div>

                <div id="canvas"></div>
            </div>

            <!-- TAB 2 CONTENT -->
            <div class="tab-content" id="tab-waterfall">
                <div class="controls-container">
                    <div class="control-panel">
                        <div class="control-header">
                            <h3>Cumulative Water Savings Potential</h3>
                            <p class="control-description">
                                Shows potential water savings if countries achieved <strong>best-in-climate-region efficiency</strong>.
                                Each country is compared only to the most efficient country in its own climate zone.
                            </p>
                        </div>

                        <div class="slider-container" style="margin: 20px 0;">
                            <div class="slider-header">
                                <div class="slider-displays">
                                    <span id="savings-total" class="wue-display">Total Savings: 0 L/kWh</span>
                                </div>
                            </div>

                            <input type="range" id="efficiency-slider" min="0" max="100" step="1" value="100" class="temperature-slider" style="width: 100%;">

                            <div class="slider-markers" style="display: flex; justify-content: space-between; font-size: 0.8em; margin-top: 5px; color: var(--color-text-secondary);">
                                <span>0%</span>
                                <span>25%</span>
                                <span>50%</span>
                                <span>75%</span>
                                <span>100%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="waterfall-canvas"></div>

                <div class="waterfall-legend" style="display: flex; gap: 20px; justify-content: center; margin-top: 20px;">
                    <div class="waterfall-legend-item" style="display: flex; align-items: center; gap: 8px;">
                        <div class="waterfall-legend-color" style="background-color: #2ECC71; width: 15px; height: 15px; border-radius: 3px;"></div>
                        <span class="waterfall-legend-text">WUE Improvement</span>
                    </div>
                    <div class="waterfall-legend-item" style="display: flex; align-items: center; gap: 8px;">
                        <div class="waterfall-legend-color" style="background-color: #E67E22; width: 15px; height: 15px; border-radius: 3px;"></div>
                        <span class="waterfall-legend-text">Leakage Reduction</span>
                    </div>
                    <div class="waterfall-legend-item" style="display: flex; align-items: center; gap: 8px;">
                        <div class="waterfall-legend-color" style="background-color: #3498DB; width: 15px; height: 15px; border-radius: 3px;"></div>
                        <span class="waterfall-legend-text">Total WUE</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="visualizations/predictive_maps/main.js"></script>    

    <script>
        // Side navigation active state tracking
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.chapter');
            const navLinks = document.querySelectorAll('.side-nav-link');
            
            function updateActiveLink() {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    // Offset de 300px pour d√©tecter le changement de section plus t√¥t
                    if (pageYOffset >= sectionTop - 300) {
                        current = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            }
            
            window.addEventListener('scroll', updateActiveLink);
            updateActiveLink();
        });
    </script>

</body>
</html>
